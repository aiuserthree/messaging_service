<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì… - ë©”ì‹œì§• ì„œë¹„ìŠ¤</title>
    <script src="js/header.js"></script>
    <style>
/* ê³µí†µ ìŠ¤íƒ€ì¼ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2563eb;
    --primary-hover: #1d4ed8;
    --secondary-color: #64748b;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --bg-color: #f8fafc;
    --surface-color: #ffffff;
    --border-color: #e2e8f0;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --text-muted: #94a3b8;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-color);
}

.app-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* í—¤ë” */
.header {
    background-color: var(--surface-color);
    border-bottom: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 64px;
}

.logo h1 {
    font-size: 28px;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0;
}

.logo a {
    text-decoration: none;
    color: inherit;
    display: block;
}

.logo a:hover h1 {
    opacity: 0.8;
}

.main-nav {
    display: flex;
    gap: 4px;
    flex: 1;
    justify-content: center;
    position: relative;
}

.nav-item {
    padding: 8px 16px;
    text-decoration: none;
    color: var(--text-secondary);
    font-weight: 500;
    border-radius: var(--radius-md);
    transition: all 0.2s;
    position: relative;
    display: flex;
    align-items: center;
    gap: 4px;
}

.nav-item:hover {
    background-color: var(--bg-color);
    color: var(--text-primary);
}

.nav-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
}

.nav-item.has-dropdown {
    position: relative;
}

.nav-item.has-dropdown .nav-link::after {
    content: 'â–¼';
    font-size: 10px;
    margin-left: 4px;
    transition: transform 0.2s;
    display: inline-block;
}

.nav-item.has-dropdown.open .nav-link::after {
    transform: rotate(180deg);
}

.nav-item.has-dropdown .nav-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    align-items: center;
}

/* ë“œë¡­ë‹¤ìš´ ë©”ë‰´ */
.nav-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 8px;
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    min-width: 180px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s;
    z-index: 1000;
    padding: 8px 0;
}

.nav-item.open .nav-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.nav-dropdown-item {
    display: block;
    padding: 10px 20px;
    text-decoration: none;
    color: var(--text-primary);
    font-size: 14px;
    transition: all 0.2s;
}

.nav-dropdown-item:hover {
    background-color: var(--bg-color);
    color: var(--primary-color);
}

.nav-dropdown-item.active {
    background-color: rgba(37, 99, 235, 0.1);
    color: var(--primary-color);
    font-weight: 600;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 16px;
}

.balance-info {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background-color: var(--bg-color);
    border-radius: var(--radius-md);
}

.balance-label {
    font-size: 12px;
    color: var(--text-secondary);
}

.balance-amount {
    font-weight: 600;
    color: var(--primary-color);
}

/* ë©”ì¸ ì»¨í…ì¸  */
.main-content {
    flex: 1;
    max-width: 1000px;
    width: 100%;
    margin: 0 auto;
    padding: 40px 24px;
    min-height: calc(100vh - 64px);
}

.signup-container {
    background-color: var(--surface-color);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 100%;
    padding: 48px 40px;
}

.signup-header {
    text-align: center;
    margin-bottom: 40px;
}

.signup-title {
    font-size: 28px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.signup-subtitle {
    font-size: 14px;
    color: var(--text-secondary);
}

/* ì§„í–‰ ë‹¨ê³„ í‘œì‹œ */
.step-indicator {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 40px;
    position: relative;
    padding: 0 20px;
}

.step-indicator::before {
    content: '';
    position: absolute;
    top: 20px;
    left: 10%;
    right: 10%;
    height: 2px;
    background-color: var(--border-color);
    z-index: 0;
}

.step-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 1;
    flex: 1;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--surface-color);
    border: 2px solid var(--border-color);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 8px;
    transition: all 0.3s;
}

.step-item.active .step-number {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: white;
}

.step-item.completed .step-number {
    background-color: var(--success-color);
    border-color: var(--success-color);
    color: white;
}

.step-label {
    font-size: 12px;
    color: var(--text-secondary);
    text-align: center;
}

.step-item.active .step-label {
    color: var(--primary-color);
    font-weight: 600;
}

.step-item.completed .step-label {
    color: var(--success-color);
}

/* í¼ ìŠ¤íƒ€ì¼ */
.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-primary);
    font-size: 14px;
}

.form-label.required::after {
    content: ' *';
    color: var(--danger-color);
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    padding: 12px 16px;
    font-size: 14px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background-color: var(--surface-color);
    color: var(--text-primary);
    transition: all 0.2s;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.form-textarea {
    resize: vertical;
    min-height: 150px;
}

.form-error {
    margin-top: 4px;
    font-size: 12px;
    color: var(--danger-color);
    display: none;
}

.form-error.show {
    display: block;
}

.form-help {
    margin-top: 4px;
    font-size: 12px;
    color: var(--text-secondary);
}

/* ì²´í¬ë°•ìŠ¤ ê·¸ë£¹ */
.checkbox-group {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 12px;
}

.checkbox-group input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin-top: 2px;
    flex-shrink: 0;
}

.checkbox-group label {
    font-size: 14px;
    color: var(--text-primary);
    cursor: pointer;
    line-height: 1.5;
}

.checkbox-group label a {
    color: var(--primary-color);
    text-decoration: underline;
}

/* ì•½ê´€ ë™ì˜ ì˜ì—­ */
.terms-section {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 16px;
    margin-bottom: 20px;
    max-height: 200px;
    overflow-y: auto;
}

.terms-content {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.8;
}

.terms-content h4 {
    font-size: 14px;
    color: var(--text-primary);
    margin-bottom: 8px;
    margin-top: 12px;
}

.terms-content h4:first-child {
    margin-top: 0;
}

.terms-content table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
    font-size: 12px;
}

.terms-content table th,
.terms-content table td {
    padding: 8px;
    border: 1px solid var(--border-color);
    text-align: left;
}

.terms-content table th {
    background-color: var(--surface-color);
    font-weight: 600;
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 12px 24px;
    font-size: 14px;
    font-weight: 500;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s;
    text-decoration: none;
    gap: 8px;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-primary:hover:not(:disabled) {
    background-color: var(--primary-hover);
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-primary);
}

.btn-outline:hover:not(:disabled) {
    background-color: var(--bg-color);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-full {
    width: 100%;
}

.btn-sm {
    padding: 8px 16px;
    font-size: 13px;
}

/* íšŒì›ìœ í˜• ì„ íƒ */
.member-type-selector {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
}

.member-type-card {
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    padding: 40px 24px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    background-color: var(--surface-color);
}

.member-type-card:hover {
    border-color: var(--primary-color);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.member-type-card.selected {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.05);
}

.member-type-icon {
    font-size: 64px;
    margin-bottom: 20px;
}

.member-type-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.member-type-desc {
    font-size: 14px;
    color: var(--text-secondary);
}

/* ë³¸ì¸ì¸ì¦ ì˜ì—­ */
.verification-section {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    padding: 24px;
    margin-bottom: 24px;
}

.verification-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 16px;
    color: var(--text-primary);
}

.verification-complete {
    padding: 12px;
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
    border: 1px solid rgba(16, 185, 129, 0.2);
    border-radius: var(--radius-md);
    margin-bottom: 16px;
    display: none;
}

.verification-complete.show {
    display: block;
}

.phone-input-group {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.phone-input-group .form-input {
    flex: 1;
}

.verification-code-group {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
}

.verification-code-group .form-input {
    flex: 1;
}

.verification-status {
    padding: 12px;
    border-radius: var(--radius-md);
    margin-top: 12px;
    font-size: 13px;
    display: none;
}

.verification-status.success {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
    border: 1px solid rgba(16, 185, 129, 0.2);
    display: block;
}

.verification-status.error {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
    border: 1px solid rgba(239, 68, 68, 0.2);
    display: block;
}

.verification-hint {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 8px;
}

/* íŒŒì¼ ì—…ë¡œë“œ */
.file-upload-area {
    border: 2px dashed var(--border-color);
    border-radius: var(--radius-md);
    padding: 32px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
    background-color: var(--bg-color);
}

.file-upload-area:hover {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.05);
}

.file-upload-area.dragover {
    border-color: var(--primary-color);
    background-color: rgba(37, 99, 235, 0.1);
}

.file-upload-icon {
    font-size: 48px;
    color: var(--text-muted);
    margin-bottom: 12px;
}

.file-upload-text {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 8px;
}

.file-upload-hint {
    font-size: 12px;
    color: var(--text-muted);
}

.file-preview {
    margin-top: 16px;
    padding: 12px;
    background-color: var(--bg-color);
    border-radius: var(--radius-md);
    display: none;
}

.file-preview.show {
    display: block;
}

.file-preview-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px;
    background-color: var(--surface-color);
    border-radius: var(--radius-sm);
    margin-bottom: 8px;
}

.file-preview-item:last-child {
    margin-bottom: 0;
}

.file-preview-name {
    font-size: 13px;
    color: var(--text-primary);
}

.file-preview-remove {
    color: var(--danger-color);
    cursor: pointer;
    font-size: 18px;
    padding: 0 4px;
}

/* ë‹¨ê³„ë³„ ì»¨í…ì¸  */
.step-content {
    display: none;
}

.step-content.active {
    display: block;
}

/* ë²„íŠ¼ ê·¸ë£¹ */
.button-group {
    display: flex;
    gap: 12px;
    margin-top: 32px;
}

.button-group .btn {
    flex: 1;
}

/* ì…ë ¥ ê·¸ë£¹ (ì•„ì´ë”” ì¤‘ë³µí™•ì¸ ë“±) */
.input-group {
    display: flex;
    gap: 8px;
}

.input-group .form-input {
    flex: 1;
}

.input-group .btn {
    white-space: nowrap;
    flex-shrink: 0;
}

/* ë§ˆì¼€íŒ… ìˆ˜ì‹  ì²´í¬ë°•ìŠ¤ ê·¸ë£¹ */
.marketing-consent-group {
    display: flex;
    gap: 24px;
    margin-top: 8px;
}

.marketing-consent-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.marketing-consent-item input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

/* ë°˜ì‘í˜• */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        height: auto;
        padding: 16px;
    }

    .main-nav {
        flex-wrap: wrap;
        margin: 16px 0;
        width: 100%;
    }

    .nav-dropdown {
        position: static;
        margin-top: 4px;
        width: 100%;
        box-shadow: none;
        border: none;
        border-top: 1px solid var(--border-color);
        border-radius: 0;
        opacity: 1;
        visibility: visible;
        transform: none;
        display: none;
    }

    .nav-item.open .nav-dropdown {
        display: block;
    }

    .header-actions {
        width: 100%;
        justify-content: space-between;
    }

    .main-content {
        padding: 24px 16px;
    }

    .signup-container {
        padding: 32px 24px;
    }

    .step-indicator {
        margin-bottom: 32px;
        padding: 0 10px;
    }

    .step-label {
        font-size: 11px;
    }

    .member-type-selector {
        grid-template-columns: 1fr;
    }

    .phone-input-group,
    .verification-code-group,
    .input-group {
        flex-direction: column;
    }

    .marketing-consent-group {
        flex-direction: column;
        gap: 12px;
    }
}
    </style>
</head>
<body>
    <div class="app-container">
        <script>
            document.write(createHeader());
        </script>

        <main class="main-content">
            <div class="signup-container">
                <div class="signup-header">
                    <h1 class="signup-title">íšŒì›ê°€ì…</h1>
                    <p class="signup-subtitle">ì„œë¹„ìŠ¤ ì´ìš©ì„ ìœ„í•´ íšŒì›ê°€ì…ì„ ì§„í–‰í•´ì£¼ì„¸ìš”</p>
                </div>

                <!-- ì§„í–‰ ë‹¨ê³„ í‘œì‹œ -->
                <div class="step-indicator">
                    <div class="step-item active" id="step1-indicator">
                        <div class="step-number">1</div>
                        <div class="step-label">ì•½ê´€ ë™ì˜</div>
                    </div>
                    <div class="step-item" id="step2-indicator">
                        <div class="step-number">2</div>
                        <div class="step-label">íšŒì›ìœ í˜• ì„ íƒ</div>
                    </div>
                    <div class="step-item" id="step3-indicator">
                        <div class="step-number">3</div>
                        <div class="step-label">ë³¸ì¸ì¸ì¦</div>
                    </div>
                    <div class="step-item" id="step4-indicator">
                        <div class="step-number">4</div>
                        <div class="step-label">ì •ë³´ ì…ë ¥</div>
                    </div>
                </div>

                <!-- Step 1: ì•½ê´€ ë™ì˜ -->
                <div class="step-content active" id="step1">
                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeAll" onchange="toggleAllAgreements()">
                            <label for="agreeAll"><strong>ì „ì²´ ë™ì˜</strong></label>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired1" class="required-agreement" onchange="checkRequiredAgreements()">
                            <label for="agreeRequired1" class="required">ì´ìš©ì•½ê´€ ë™ì˜ <span style="color: var(--danger-color);">(í•„ìˆ˜)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>ì œ1ì¥ ì´ì¹™</h4>
                                <h4>ì œ1ì¡°(ëª©ì )</h4>
                                ì´ ì•½ê´€ì€ íšŒì‚¬ê°€ ì˜¨ë¼ì¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì™€ ì´ìš©ì ê°„ì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.
                                
                                <h4>ì œ2ì¡°(ì •ì˜)</h4>
                                ì´ ì•½ê´€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ì˜ ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.<br>
                                1. "ì„œë¹„ìŠ¤"ë€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ë©”ì‹œì§• ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.<br>
                                2. "ì´ìš©ì"ë€ ì´ ì•½ê´€ì— ë”°ë¼ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë°›ëŠ” íšŒì› ë° ë¹„íšŒì›ì„ ë§í•©ë‹ˆë‹¤.<br>
                                3. "íšŒì›"ì´ë€ íšŒì‚¬ì— ê°œì¸ì •ë³´ë¥¼ ì œê³µí•˜ì—¬ íšŒì›ë“±ë¡ì„ í•œ ìë¡œì„œ, íšŒì‚¬ì˜ ì •ë³´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì œê³µë°›ìœ¼ë©°, íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ê³„ì†ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ìë¥¼ ë§í•©ë‹ˆë‹¤.<br>
                                4. "OKë¬¸ì"ë€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ë¬¸ì, ë©€í‹°ë¯¸ë””ì–´ ë©”ì‹œì§€, íŒ©ìŠ¤ ì „ì†¡ ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired2" class="required-agreement" onchange="checkRequiredAgreements()">
                            <label for="agreeRequired2" class="required">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ê´€í•œ ë™ì˜ <span style="color: var(--danger-color);">(í•„ìˆ˜)</span></label>
                            <a href="#" style="margin-left: 8px; color: var(--primary-color); text-decoration: underline; font-size: 12px;">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë°”ë¡œê°€ê¸°</a>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª© ë° ìˆ˜ì§‘ë°©ë²•</h4>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>êµ¬ë¶„</th>
                                            <th>ìˆ˜ì§‘í•­ëª©</th>
                                            <th>ìˆ˜ì§‘ë°©ë²•</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>íšŒì›ê³µí†µ</td>
                                            <td>ë¡œê·¸ì¸ID, ë¹„ë°€ë²ˆí˜¸, ì¼ë°˜ì „í™”ë²ˆí˜¸, ì´ë™ì „í™”ë²ˆí˜¸, ê°€ì…ì¸ì¦ ì´ë™ì „í™”ë²ˆí˜¸, ì´ë©”ì¼, ì¿ í‚¤, ë°©ë¬¸ì¼ì‹œ, ê²°ì œê¸°ë¡, ì ‘ì†IP, ì„œë¹„ìŠ¤ ì´ìš©ê¸°ë¡, ë¶ˆëŸ‰ ì´ìš© ê¸°ë¡</td>
                                            <td>íšŒì›ê°€ì…, ì„œë¹„ìŠ¤ ì´ìš©</td>
                                        </tr>
                                        <tr>
                                            <td>ê°œì¸íšŒì›</td>
                                            <td>ì„±ëª…, ì„±ë³„, ìíƒ ì „í™”ë²ˆí˜¸</td>
                                            <td>íšŒì›ê°€ì…</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired3" class="required-agreement" onchange="checkRequiredAgreements()">
                            <label for="agreeRequired3" class="required">ê°œì¸ì •ë³´ ì·¨ê¸‰ ìœ„íƒ ë™ì˜ <span style="color: var(--danger-color);">(í•„ìˆ˜)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>ìˆ˜ì§‘í•œ ê°œì¸ì •ë³´ì˜ ìœ„íƒ</h4>
                                íšŒì‚¬ëŠ” ì„œë¹„ìŠ¤ ì´í–‰ì„ ìœ„í•´ ê°œì¸ì •ë³´ ì²˜ë¦¬ì—…ë¬´ë¥¼ ì™¸ë¶€ ì „ë¬¸ì—…ì²´ì— ìœ„íƒí•˜ì—¬ ìš´ì˜í•  ìˆ˜ ìˆìœ¼ë©°, ìœ„íƒ ì‹œ ê´€ë ¨ ë²•ë ¹ì— ë”°ë¼ ìœ„íƒê³„ì•½ì„œ ë“±ì„ í†µí•˜ì—¬ ì„œë¹„ìŠ¤ ì œê³µì— í•„ìš”í•œ ìµœì†Œí•œì˜ ì •ë³´ë§Œ ì œê³µí•˜ë©°, ê°œì¸ì •ë³´ ë³´í˜¸ ê´€ë ¨ ì§€ì‹œì—„ìˆ˜, ê°œì¸ì •ë³´ì— ëŒ€í•œ ë¹„ë°€ìœ ì§€, ì œ3ì ì œê³µ ê¸ˆì§€ ë“±ì— ê´€í•œ ì‚¬í•­ì„ ê³„ì•½ì„œ ë“± ë¬¸ì„œì— ëª…ì‹œí•˜ê³ , ìˆ˜íƒìê°€ ê°œì¸ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ”ì§€ë¥¼ ê°ë…í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                                
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ìˆ˜íƒì—…ì²´</th>
                                            <th>ìœ„íƒì—…ë¬´ ë‚´ìš©</th>
                                            <th>ìœ„íƒì²˜ë¦¬ ì •ë³´</th>
                                            <th>ê°œì¸ì •ë³´ ë³´ìœ  ë° ì´ìš©ê¸°ê°„</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>ì—”ì—ì´ì¹˜ì—”í•œêµ­ì‚¬ì´ë²„ê²°ì œ ì£¼ì‹íšŒì‚¬</td>
                                            <td>ì‹ ìš©ì¹´ë“œê²°ì œ</td>
                                            <td>ì´ë¦„, íœ´ëŒ€í°ë²ˆí˜¸</td>
                                            <td>íšŒì›íƒˆí‡´ì‹œ</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="checkbox-group">
                            <input type="checkbox" id="agreeRequired4" class="required-agreement" onchange="checkRequiredAgreements()">
                            <label for="agreeRequired4" class="required">ë¶ˆë²•ìŠ¤íŒ¸ë°©ì§€ì•ˆë‚´ <span style="color: var(--danger-color);">(í•„ìˆ˜)</span></label>
                        </div>
                        <div class="terms-section">
                            <div class="terms-content">
                                <h4>ë¶ˆë²•ìŠ¤íŒ¸ë©”ì‹œì§€ ë°œì†¡ì°¨ë‹¨ ë° ê°€ì…ì°¨ë‹¨ ì¡°ì¹˜ ì•ˆë‚´</h4>
                                ë¶ˆë²•ìŠ¤íŒ¸ë©”ì‹œì§€(ëŒ€ì¶œ, ë„ë°•, ì˜ì•½í’ˆ, ì„±ì¸, ì£¼ì‹, ë³µê¶Œ, ë¶€ë™ì‚° ê´‘ê³ , ê²Œì„ ë“±)ë¥¼ ë°œì†¡í•˜ëŠ” ê²½ìš°, ë°œì†¡ ì‚¬ì‹¤ì´ í™•ì¸ëœ ê³„ì •ì€ ì¦‰ì‹œ ê°€ì…ì´ ì°¨ë‹¨ë˜ë©°, ì”ì—¬ í¬ì¸íŠ¸ëŠ” í™˜ë¶ˆë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br><br>
                                ë˜í•œ, í•œêµ­ì¸í„°ë„·ì§„í¥ì›(KISA)ì—ì„œ ìŠ¤íŒ¸ ì‹ ê³ ë¥¼ ë°›ê±°ë‚˜, ê´‘ê³ ì„± í‘œì‹œ ì˜ë¬´ë¥¼ ìœ„ë°˜í•œ ê²½ìš° ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top: 24px;">
                        <p style="font-size: 12px; color: var(--text-secondary); line-height: 1.6;">
                            * ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ê´€í•œ ë™ì˜ì— ê´€í•œ ìì„¸í•œ ì‚¬í•­ì€ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ì—ì„œ ê³ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br>
                            * í•„ìˆ˜ ì•½ê´€ ë™ì˜ ê±°ë¶€ ì‹œ, íšŒì›ê°€ì…ì´ ì œí•œë©ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="goToLogin()">ë¹„ë™ì˜</button>
                        <button type="button" class="btn btn-primary btn-full" id="step1-next" onclick="nextStep(2)" disabled>ë™ì˜</button>
                    </div>
                </div>

                <!-- Step 2: íšŒì›ìœ í˜• ì„ íƒ -->
                <div class="step-content" id="step2">
                    <div style="text-align: center; margin-bottom: 32px;">
                        <p style="font-size: 16px; color: var(--text-primary); font-weight: 500;">ê°€ì…í•˜ì‹œëŠ” ê³„ì •ì˜ ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                    </div>

                    <div class="member-type-selector">
                        <div class="member-type-card" onclick="selectMemberType('individual')">
                            <div class="member-type-icon">ğŸ‘¤</div>
                            <div class="member-type-title">ê°œì¸íšŒì›</div>
                            <div class="member-type-desc">ê°œì¸ ê³ ê°ì„ ìœ„í•œ ì„œë¹„ìŠ¤</div>
                        </div>
                        <div class="member-type-card" onclick="selectMemberType('business')">
                            <div class="member-type-icon">ğŸ¢</div>
                            <div class="member-type-title">ê¸°ì—…íšŒì›</div>
                            <div class="member-type-desc">ê¸°ì—…/ê³µê³µê¸°ê´€/ë‹¨ì²´ ê³ ê°ì„ ìœ„í•œ ì„œë¹„ìŠ¤</div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(1)">ì´ì „</button>
                        <button type="button" class="btn btn-primary btn-full" id="step2-next" onclick="nextStep(3)" disabled>ë‹¤ìŒ</button>
                    </div>
                </div>

                <!-- Step 3: ë³¸ì¸ì¸ì¦ -->
                <div class="step-content" id="step3">
                    <div class="verification-section">
                        <div class="verification-title">íœ´ëŒ€í° ë³¸ì¸ì¸ì¦</div>
                        <div class="verification-complete" id="verificationComplete">
                            <strong>ì¸ì¦ ì™„ë£Œ</strong> - <span id="verifiedPhone"></span>
                        </div>
                        <div id="verificationForm">
                            <div class="form-group">
                                <label class="form-label required" for="phoneNumber">íœ´ëŒ€í° ë²ˆí˜¸</label>
                                <div class="phone-input-group">
                                    <input type="tel" id="phoneNumber" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                                    <button type="button" class="btn btn-primary" onclick="sendVerificationCode()">ì¸ì¦ë²ˆí˜¸ ë°œì†¡</button>
                                </div>
                                <div class="verification-hint">* ë³¸ì¸ ëª…ì˜ íœ´ëŒ€í°ë§Œ ì¸ì¦ ê°€ëŠ¥ (íŒì—… ì°¨ë‹¨ ì‹œ ì¸ì¦ì°½ í™œì„± ë¶ˆê°€)</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label required" for="verificationCode">ì¸ì¦ë²ˆí˜¸</label>
                                <div class="verification-code-group">
                                    <input type="text" id="verificationCode" class="form-input" placeholder="ì¸ì¦ë²ˆí˜¸ 6ìë¦¬ ì…ë ¥" maxlength="6">
                                    <button type="button" class="btn btn-outline" onclick="verifyCode()">ì¸ì¦ í™•ì¸</button>
                                </div>
                                <div class="verification-status" id="verificationStatus"></div>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(2)">ì´ì „</button>
                        <button type="button" class="btn btn-primary btn-full" id="step3-next" onclick="nextStep(4)" disabled>ë‹¤ìŒ</button>
                    </div>
                </div>

                <!-- Step 4: ì •ë³´ ì…ë ¥ (ê°œì¸) -->
                <div class="step-content" id="step4-individual">
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 24px;">* í‘œì‹œëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.</p>

                    <div class="form-group">
                        <label class="form-label required" for="individualUserId">ì•„ì´ë””</label>
                        <div class="input-group">
                            <input type="text" id="individualUserId" class="form-input" placeholder="8ì~12ì ì˜ë¬¸, ìˆ«ì, ì˜ë¬¸+ìˆ«ì ì¡°í•©ë§Œ ì‚¬ìš©">
                            <button type="button" class="btn btn-outline btn-sm" onclick="checkIndividualUserId()">ì¤‘ë³µí™•ì¸</button>
                        </div>
                        <div class="form-help">* 8ì~12ì ì˜ë¬¸, ìˆ«ì, ì˜ë¬¸+ìˆ«ì ì¡°í•©ë§Œ ì‚¬ìš©</div>
                        <div class="form-error" id="individualUserIdError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="individualPassword">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="individualPassword" class="form-input" placeholder="8ì~16ì ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì í˜¼í•© ì‚¬ìš©">
                        <div class="form-help">
                            * 8ì~16ì ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì(~!@#$%^&*?) í˜¼í•© ì‚¬ìš©<br>
                            * ë™ì¼í•œ ë¬¸ìë¥¼ ì—°ì†í•´ì„œ ë°˜ë³µ ì‚¬ìš© ë¶ˆê°€<br>
                            * ì´ì „ê³¼ ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš© ë¶ˆê°€
                        </div>
                        <div class="form-error" id="individualPasswordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="individualPasswordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" id="individualPasswordConfirm" class="form-input" placeholder="ìƒë‹¨ì— ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ì™€ ë™ì¼í•˜ê²Œ ì…ë ¥">
                        <div class="form-error" id="individualPasswordConfirmError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="individualContact">ì—°ë½ì²˜</label>
                        <input type="tel" id="individualContact" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                        <div class="form-error" id="individualContactError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="individualEmail">ì´ë©”ì¼</label>
                        <input type="email" id="individualEmail" class="form-input" placeholder="example@email.com">
                        <div class="form-help">* ë³¸ì¸ í™•ì¸ ë° ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì‹  ì‹œ í•„ìš”</div>
                        <div class="form-error" id="individualEmailError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ë§ˆì¼€íŒ… ìˆ˜ì‹ ì—¬ë¶€</label>
                        <div class="marketing-consent-group">
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="individualMarketingSMS">
                                <label for="individualMarketingSMS">SMS</label>
                            </div>
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="individualMarketingEmail">
                                <label for="individualMarketingEmail">E-mail</label>
                            </div>
                        </div>
                        <div class="form-help">* ê³µì§€ì‚¬í•­ì€ ìˆ˜ì‹ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ì „ì†¡ë©ë‹ˆë‹¤.</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(3)">ì´ì „ë‹¨ê³„</button>
                        <button type="button" class="btn btn-primary btn-full" onclick="submitSignup('individual')">ê°€ì…</button>
                    </div>
                </div>

                <!-- Step 4: ì •ë³´ ì…ë ¥ (ê¸°ì—…) -->
                <div class="step-content" id="step4-business">
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 24px;">* í‘œì‹œëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.</p>

                    <div class="form-group">
                        <label class="form-label required" for="businessUserId">ì•„ì´ë””</label>
                        <div class="input-group">
                            <input type="text" id="businessUserId" class="form-input" placeholder="8ì~12ì ì˜ë¬¸, ìˆ«ì, ì˜ë¬¸+ìˆ«ì ì¡°í•©ë§Œ ì‚¬ìš©">
                            <button type="button" class="btn btn-outline btn-sm" onclick="checkBusinessUserId()">ì¤‘ë³µí™•ì¸</button>
                        </div>
                        <div class="form-help">* 8ì~12ì ì˜ë¬¸, ìˆ«ì, ì˜ë¬¸+ìˆ«ì ì¡°í•©ë§Œ ì‚¬ìš©</div>
                        <div class="form-error" id="businessUserIdError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessPassword">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="businessPassword" class="form-input" placeholder="8ì~16ì ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì í˜¼í•© ì‚¬ìš©">
                        <div class="form-help">
                            * 8ì~16ì ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì(~!@#$%^&*?) í˜¼í•© ì‚¬ìš©<br>
                            * ë™ì¼í•œ ë¬¸ìë¥¼ ì—°ì†í•´ì„œ ë°˜ë³µ ì‚¬ìš© ë¶ˆê°€<br>
                            * ì´ì „ê³¼ ë™ì¼í•œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš© ë¶ˆê°€
                        </div>
                        <div class="form-error" id="businessPasswordError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessPasswordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" id="businessPasswordConfirm" class="form-input" placeholder="ìƒë‹¨ì— ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ì™€ ë™ì¼í•˜ê²Œ ì…ë ¥">
                        <div class="form-error" id="businessPasswordConfirmError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessType">ê¸°ì—…ìœ í˜•</label>
                        <select id="businessType" class="form-select" onchange="handleBusinessTypeChange()">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="corporation">ë²•ì¸ì‚¬ì—…ì</option>
                            <option value="individual">ê°œì¸ì‚¬ì—…ì</option>
                        </select>
                        <div class="form-error" id="businessTypeError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="managerType">ë‹´ë‹¹ì</label>
                        <select id="managerType" class="form-select" onchange="handleManagerTypeChange()">
                            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="representative">ëŒ€í‘œì</option>
                            <option value="employee">ì§ì›</option>
                        </select>
                        <div class="form-error" id="managerTypeError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessRegistrationFile">ì‚¬ì—…ìë“±ë¡ì¦</label>
                        <div class="file-upload-area" onclick="document.getElementById('businessRegistrationFileInput').click()" ondrop="handleBusinessRegistrationFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div class="file-upload-icon">ğŸ“„</div>
                            <div class="file-upload-text">íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</div>
                            <div class="file-upload-hint">PDF, JPG, PNG íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥ (ìµœëŒ€ 10MB)</div>
                        </div>
                        <input type="file" id="businessRegistrationFileInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleBusinessRegistrationFileSelect(event)">
                        <div class="file-preview" id="businessRegistrationFilePreview"></div>
                        <div class="form-error" id="businessRegistrationFileError"></div>
                    </div>

                    <div class="form-group" id="employmentCertificateGroup" style="display: none;">
                        <label class="form-label required" for="employmentCertificateFile">ì¬ì§ì¦ëª…ì„œ</label>
                        <div class="file-upload-area" onclick="document.getElementById('employmentCertificateFileInput').click()" ondrop="handleEmploymentCertificateFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div class="file-upload-icon">ğŸ“„</div>
                            <div class="file-upload-text">íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</div>
                            <div class="file-upload-hint">PDF, JPG, PNG íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥ (ìµœëŒ€ 10MB)</div>
                        </div>
                        <input type="file" id="employmentCertificateFileInput" style="display: none;" accept=".pdf,.jpg,.jpeg,.png" onchange="handleEmploymentCertificateFileSelect(event)">
                        <div class="file-preview" id="employmentCertificateFilePreview"></div>
                        <div class="form-error" id="employmentCertificateFileError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessName">ê¸°ì—…ëª…</label>
                        <input type="text" id="businessName" class="form-input" placeholder="ê¸°ì—…ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        <div class="form-error" id="businessNameError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessNumber">ì‚¬ì—…ìë²ˆí˜¸</label>
                        <input type="text" id="businessNumber" class="form-input" placeholder="000-00-00000" maxlength="12" oninput="formatBusinessNumber(this)">
                        <div class="form-error" id="businessNumberError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="representativeName">ëŒ€í‘œìëª…</label>
                        <input type="text" id="representativeName" class="form-input" placeholder="ëŒ€í‘œìëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        <div class="form-error" id="representativeNameError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessAddress">ì£¼ì†Œ</label>
                        <div class="input-group" style="margin-bottom: 8px;">
                            <input type="text" id="businessAddress" class="form-input" placeholder="ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" readonly>
                            <button type="button" class="btn btn-outline btn-sm" onclick="searchAddress()">ì£¼ì†Œ ê²€ìƒ‰</button>
                        </div>
                        <input type="text" id="businessAddressDetail" class="form-input" placeholder="ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        <div class="form-error" id="businessAddressError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label required" for="businessContact">ì—°ë½ì²˜</label>
                        <input type="tel" id="businessContact" class="form-input" placeholder="010-1234-5678" maxlength="13" oninput="formatPhoneNumber(this)">
                        <div class="form-error" id="businessContactError"></div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ë§ˆì¼€íŒ… ìˆ˜ì‹ ì—¬ë¶€</label>
                        <div class="marketing-consent-group">
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="businessMarketingSMS">
                                <label for="businessMarketingSMS">SMS</label>
                            </div>
                            <div class="marketing-consent-item">
                                <input type="checkbox" id="businessMarketingEmail">
                                <label for="businessMarketingEmail">E-mail</label>
                            </div>
                        </div>
                        <div class="form-help">* ê³µì§€ì‚¬í•­ì€ ìˆ˜ì‹ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ì „ì†¡ë©ë‹ˆë‹¤.</div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-outline btn-full" onclick="prevStep(3)">ì´ì „ë‹¨ê³„</button>
                        <button type="button" class="btn btn-primary btn-full" onclick="submitSignup('business')">ê°€ì…</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let currentStep = 1;
        let memberType = '';
        let isVerified = false;
        let verificationCodeSent = false;
        let sentCode = '';
        let verifiedPhoneNumber = '';

        // ì „ì²´ ë™ì˜ í† ê¸€
        function toggleAllAgreements() {
            const agreeAll = document.getElementById('agreeAll');
            const requiredAgreements = document.querySelectorAll('.required-agreement');
            const optionalAgreement = document.getElementById('agreeOptional');
            
            requiredAgreements.forEach(checkbox => {
                checkbox.checked = agreeAll.checked;
            });
            if (optionalAgreement) {
                optionalAgreement.checked = agreeAll.checked;
            }
            
            checkRequiredAgreements();
        }

        // í•„ìˆ˜ ì•½ê´€ ì²´í¬
        function checkRequiredAgreements() {
            const requiredAgreements = document.querySelectorAll('.required-agreement');
            const allChecked = Array.from(requiredAgreements).every(cb => cb.checked);
            const step1Next = document.getElementById('step1-next');
            
            step1Next.disabled = !allChecked;
        }

        // íšŒì›ìœ í˜• ì„ íƒ
        function selectMemberType(type) {
            memberType = type;
            const cards = document.querySelectorAll('.member-type-card');
            cards.forEach(card => card.classList.remove('selected'));
            
            if (type === 'individual') {
                cards[0].classList.add('selected');
            } else {
                cards[1].classList.add('selected');
            }
            
            document.getElementById('step2-next').disabled = false;
        }

        // ë‹¤ìŒ ë‹¨ê³„
        function nextStep(step) {
            if (step === 2 && !checkStep1()) return;
            if (step === 3 && !checkStep2()) return;
            if (step === 4 && !checkStep3()) return;
            
            // í˜„ì¬ ë‹¨ê³„ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ì´ì „ ë‹¨ê³„ ì™„ë£Œ í‘œì‹œ
            if (currentStep > 0) {
                const prevIndicator = document.getElementById(`step${currentStep}-indicator`);
                if (prevIndicator) {
                    prevIndicator.classList.remove('active');
                    prevIndicator.classList.add('completed');
                }
            }
            
            currentStep = step;
            
            // ë‹¤ìŒ ë‹¨ê³„ í‘œì‹œ
            if (step === 4) {
                if (memberType === 'individual') {
                    document.getElementById('step4-individual').classList.add('active');
                } else {
                    document.getElementById('step4-business').classList.add('active');
                }
            } else {
                document.getElementById(`step${step}`).classList.add('active');
            }
            
            // í˜„ì¬ ë‹¨ê³„ í™œì„±í™” í‘œì‹œ
            const currentIndicator = document.getElementById(`step${step}-indicator`);
            if (currentIndicator) {
                currentIndicator.classList.add('active');
            }
        }

        // ì´ì „ ë‹¨ê³„
        function prevStep(step) {
            // í˜„ì¬ ë‹¨ê³„ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.step-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // í˜„ì¬ ë‹¨ê³„ ë¹„í™œì„±í™”
            if (currentStep > 0) {
                const currentIndicator = document.getElementById(`step${currentStep}-indicator`);
                if (currentIndicator) {
                    currentIndicator.classList.remove('active', 'completed');
                }
            }
            
            currentStep = step;
            
            // ì´ì „ ë‹¨ê³„ í‘œì‹œ
            document.getElementById(`step${step}`).classList.add('active');
            
            // ì´ì „ ë‹¨ê³„ í™œì„±í™” í‘œì‹œ
            const prevIndicator = document.getElementById(`step${step}-indicator`);
            if (prevIndicator) {
                prevIndicator.classList.add('active');
            }
        }

        // Step 1 ê²€ì¦
        function checkStep1() {
            const requiredAgreements = document.querySelectorAll('.required-agreement');
            return Array.from(requiredAgreements).every(cb => cb.checked);
        }

        // Step 2 ê²€ì¦
        function checkStep2() {
            return memberType !== '';
        }

        // Step 3 ê²€ì¦
        function checkStep3() {
            return isVerified;
        }

        // ì „í™”ë²ˆí˜¸ í¬ë§·íŒ…
        function formatPhoneNumber(input) {
            let value = input.value.replace(/[^\d]/g, '');
            if (value.length <= 3) {
                input.value = value;
            } else if (value.length <= 7) {
                input.value = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length <= 11) {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7);
            } else {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
            }
        }

        // ì‚¬ì—…ìë²ˆí˜¸ í¬ë§·íŒ…
        function formatBusinessNumber(input) {
            let value = input.value.replace(/[^\d]/g, '');
            if (value.length <= 3) {
                input.value = value;
            } else if (value.length <= 5) {
                input.value = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length <= 10) {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 5) + '-' + value.slice(5);
            } else {
                input.value = value.slice(0, 3) + '-' + value.slice(3, 5) + '-' + value.slice(5, 10);
            }
        }

        // ì¸ì¦ë²ˆí˜¸ ë°œì†¡
        function sendVerificationCode() {
            const phoneNumber = document.getElementById('phoneNumber').value.replace(/[^\d]/g, '');
            if (phoneNumber.length !== 11) {
                alert('ì˜¬ë°”ë¥¸ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì¸ì¦ë²ˆí˜¸ ë°œì†¡ ìš”ì²­
            // ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
            sentCode = String(Math.floor(100000 + Math.random() * 900000));
            verificationCodeSent = true;
            alert('ì¸ì¦ë²ˆí˜¸ê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. (í…ŒìŠ¤íŠ¸ìš© ì¸ì¦ë²ˆí˜¸: ' + sentCode + ')');
        }

        // ì¸ì¦ë²ˆí˜¸ í™•ì¸
        function verifyCode() {
            const code = document.getElementById('verificationCode').value;
            const statusDiv = document.getElementById('verificationStatus');
            const phoneNumber = document.getElementById('phoneNumber').value;
            
            if (!verificationCodeSent) {
                statusDiv.className = 'verification-status error';
                statusDiv.textContent = 'ì¸ì¦ë²ˆí˜¸ë¥¼ ë¨¼ì € ë°œì†¡í•´ì£¼ì„¸ìš”.';
                return;
            }
            
            if (code === sentCode) {
                isVerified = true;
                verifiedPhoneNumber = phoneNumber;
                statusDiv.className = 'verification-status success';
                statusDiv.textContent = 'ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.';
                document.getElementById('step3-next').disabled = false;
                
                // ì¸ì¦ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
                document.getElementById('verificationComplete').classList.add('show');
                document.getElementById('verifiedPhone').textContent = phoneNumber;
                document.getElementById('verificationForm').style.display = 'none';
            } else {
                statusDiv.className = 'verification-status error';
                statusDiv.textContent = 'ì¸ì¦ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                isVerified = false;
                document.getElementById('step3-next').disabled = true;
            }
        }

        // ì•„ì´ë”” ì¤‘ë³µí™•ì¸ (ê°œì¸)
        function checkIndividualUserId() {
            const userId = document.getElementById('individualUserId').value;
            const errorDiv = document.getElementById('individualUserIdError');
            
            if (!userId) {
                errorDiv.textContent = 'ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorDiv.classList.add('show');
                return;
            }
            
            if (userId.length < 8 || userId.length > 12) {
                errorDiv.textContent = 'ì•„ì´ë””ëŠ” 8-12ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorDiv.classList.add('show');
                return;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì¤‘ë³µí™•ì¸ ìš”ì²­
            // ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
            alert('ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.');
            errorDiv.classList.remove('show');
        }

        // ì•„ì´ë”” ì¤‘ë³µí™•ì¸ (ê¸°ì—…)
        function checkBusinessUserId() {
            const userId = document.getElementById('businessUserId').value;
            const errorDiv = document.getElementById('businessUserIdError');
            
            if (!userId) {
                errorDiv.textContent = 'ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorDiv.classList.add('show');
                return;
            }
            
            if (userId.length < 8 || userId.length > 12) {
                errorDiv.textContent = 'ì•„ì´ë””ëŠ” 8-12ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorDiv.classList.add('show');
                return;
            }
            
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ì¤‘ë³µí™•ì¸ ìš”ì²­
            alert('ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.');
            errorDiv.classList.remove('show');
        }

        // ê¸°ì—…ìœ í˜• ë³€ê²½ ì²˜ë¦¬
        function handleBusinessTypeChange() {
            // ê¸°ì—…ìœ í˜• ë³€ê²½ ì‹œ í•„ìš”í•œ ì²˜ë¦¬
        }

        // ë‹´ë‹¹ì ìœ í˜• ë³€ê²½ ì²˜ë¦¬
        function handleManagerTypeChange() {
            const managerType = document.getElementById('managerType').value;
            const employmentCertificateGroup = document.getElementById('employmentCertificateGroup');
            
            if (managerType === 'employee') {
                // ì§ì›ì¸ ê²½ìš° ì¬ì§ì¦ëª…ì„œ ì—…ë¡œë“œ ì˜ì—­ í‘œì‹œ
                employmentCertificateGroup.style.display = 'block';
            } else {
                // ëŒ€í‘œìì¸ ê²½ìš° ì¬ì§ì¦ëª…ì„œ ì—…ë¡œë“œ ì˜ì—­ ìˆ¨ê¹€ ë° íŒŒì¼ ì œê±°
                employmentCertificateGroup.style.display = 'none';
                document.getElementById('employmentCertificateFileInput').value = '';
                document.getElementById('employmentCertificateFilePreview').classList.remove('show');
                document.getElementById('employmentCertificateFilePreview').innerHTML = '';
            }
        }

        // ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ ì„ íƒ ì²˜ë¦¬
        function handleBusinessRegistrationFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                displayBusinessRegistrationFilePreview(file);
            }
        }

        // ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
        function handleBusinessRegistrationFileDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                document.getElementById('businessRegistrationFileInput').files = event.dataTransfer.files;
                displayBusinessRegistrationFilePreview(file);
            }
        }

        // ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°
        function displayBusinessRegistrationFilePreview(file) {
            const previewDiv = document.getElementById('businessRegistrationFilePreview');
            previewDiv.innerHTML = `
                <div class="file-preview-item">
                    <span class="file-preview-name">${file.name}</span>
                    <span class="file-preview-remove" onclick="removeBusinessRegistrationFile()">Ã—</span>
                </div>
            `;
            previewDiv.classList.add('show');
        }

        // ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ ì œê±°
        function removeBusinessRegistrationFile() {
            document.getElementById('businessRegistrationFileInput').value = '';
            document.getElementById('businessRegistrationFilePreview').classList.remove('show');
            document.getElementById('businessRegistrationFilePreview').innerHTML = '';
        }

        // ì¬ì§ì¦ëª…ì„œ íŒŒì¼ ì„ íƒ ì²˜ë¦¬
        function handleEmploymentCertificateFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                displayEmploymentCertificateFilePreview(file);
            }
        }

        // ì¬ì§ì¦ëª…ì„œ íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
        function handleEmploymentCertificateFileDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                document.getElementById('employmentCertificateFileInput').files = event.dataTransfer.files;
                displayEmploymentCertificateFilePreview(file);
            }
        }

        // ì¬ì§ì¦ëª…ì„œ íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°
        function displayEmploymentCertificateFilePreview(file) {
            const previewDiv = document.getElementById('employmentCertificateFilePreview');
            previewDiv.innerHTML = `
                <div class="file-preview-item">
                    <span class="file-preview-name">${file.name}</span>
                    <span class="file-preview-remove" onclick="removeEmploymentCertificateFile()">Ã—</span>
                </div>
            `;
            previewDiv.classList.add('show');
        }

        // ì¬ì§ì¦ëª…ì„œ íŒŒì¼ ì œê±°
        function removeEmploymentCertificateFile() {
            document.getElementById('employmentCertificateFileInput').value = '';
            document.getElementById('employmentCertificateFilePreview').classList.remove('show');
            document.getElementById('employmentCertificateFilePreview').innerHTML = '';
        }

        // íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ê³µí†µ í•¨ìˆ˜
        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.currentTarget.classList.remove('dragover');
        }

        // ì£¼ì†Œ ê²€ìƒ‰
        function searchAddress() {
            // ì‹¤ì œë¡œëŠ” ì£¼ì†Œ ê²€ìƒ‰ API ì—°ë™ (ë‹¤ìŒ ì£¼ì†Œ API ë“±)
            alert('ì£¼ì†Œ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }

        // íšŒì›ê°€ì… ì œì¶œ
        function submitSignup(type) {
            if (type === 'individual') {
                // ê°œì¸ íšŒì›ê°€ì… ê²€ì¦
                const userId = document.getElementById('individualUserId').value;
                const password = document.getElementById('individualPassword').value;
                const passwordConfirm = document.getElementById('individualPasswordConfirm').value;
                const contact = document.getElementById('individualContact').value;
                const email = document.getElementById('individualEmail').value;
                
                if (!userId || !password || !passwordConfirm || !email) {
                    alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                if (password !== passwordConfirm) {
                    alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }
                
                // ì‹¤ì œë¡œëŠ” ì„œë²„ì— íšŒì›ê°€ì… ìš”ì²­
                alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                window.location.href = 'index.html';
            } else {
                // ê¸°ì—… íšŒì›ê°€ì… ê²€ì¦
                const userId = document.getElementById('businessUserId').value;
                const password = document.getElementById('businessPassword').value;
                const passwordConfirm = document.getElementById('businessPasswordConfirm').value;
                const businessType = document.getElementById('businessType').value;
                const managerType = document.getElementById('managerType').value;
                const businessName = document.getElementById('businessName').value;
                const businessNumber = document.getElementById('businessNumber').value;
                const representativeName = document.getElementById('representativeName').value;
                const businessAddress = document.getElementById('businessAddress').value;
                const businessContact = document.getElementById('businessContact').value;
                
                if (!userId || !password || !passwordConfirm || !businessType || !managerType || 
                    !businessName || !businessNumber || !representativeName || 
                    !businessAddress || !businessContact) {
                    alert('ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                if (password !== passwordConfirm) {
                    alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }
                
                // ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ ê²€ì¦ (í•„ìˆ˜)
                const businessRegistrationFileInput = document.getElementById('businessRegistrationFileInput');
                if (!businessRegistrationFileInput.files || businessRegistrationFileInput.files.length === 0) {
                    alert('ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                // ì§ì›ì¸ ê²½ìš° ì¬ì§ì¦ëª…ì„œ íŒŒì¼ ê²€ì¦ (í•„ìˆ˜)
                if (managerType === 'employee') {
                    const employmentCertificateFileInput = document.getElementById('employmentCertificateFileInput');
                    if (!employmentCertificateFileInput.files || employmentCertificateFileInput.files.length === 0) {
                        alert('ì¬ì§ì¦ëª…ì„œ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                        return;
                    }
                }
                
                // ì‹¤ì œë¡œëŠ” ì„œë²„ì— íšŒì›ê°€ì… ìš”ì²­
                alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                window.location.href = 'index.html';
            }
        }

        // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
        function goToLogin() {
            if (confirm('íšŒì›ê°€ì…ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.location.href = 'index.html';
            }
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            // ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ì´ˆê¸°í™”
            if (typeof initDropdownMenus === 'function') {
                initDropdownMenus();
            }
        });
    </script>
</body>
</html>
