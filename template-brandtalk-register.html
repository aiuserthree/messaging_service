<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸Œëœë“œí†¡ í…œí”Œë¦¿ ë“±ë¡ - ë©”ì‹œì§• ì„œë¹„ìŠ¤</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/layout.css">
    <style>
        .register-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 24px;
        }
        .template-type-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .type-card {
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .type-card:hover {
            border-color: var(--primary-color);
        }
        .type-card.selected {
            border-color: var(--primary-color);
            background: rgba(37, 99, 235, 0.05);
        }
        .type-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }
        .type-name {
            font-weight: 600;
            margin-bottom: 8px;
        }
        .type-desc {
            font-size: 12px;
            color: var(--text-secondary);
        }
        .preview-section {
            position: sticky;
            top: 80px;
            height: fit-content;
        }
        .preview-kakao {
            background: #FEE500;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .preview-kakao-header {
            background: white;
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .preview-kakao-profile {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
        }
        .preview-kakao-body {
            background: white;
            border-radius: 12px;
            padding: 16px;
            min-height: 200px;
        }
        .button-config {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 12px;
        }
        .button-config-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .button-preview {
            display: flex;
            gap: 8px;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        .button-preview-item {
            padding: 8px 16px;
            background: var(--primary-color);
            color: white;
            border-radius: var(--radius-md);
            font-size: 12px;
        }
        .list-item {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-bottom: 12px;
        }
        .list-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        @media (max-width: 1024px) {
            .register-layout {
                grid-template-columns: 1fr;
            }
            .preview-section {
                position: static;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html" style="text-decoration: none; color: inherit;">
                        <h1>iSend</h1>
                    </a>
                </div>
                <nav class="main-nav">
                    <a href="index.html" class="nav-item">ëŒ€ì‹œë³´ë“œ</a>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ë¬¸ì ë°œì†¡</a>
                        <div class="nav-dropdown">
                            <a href="message-send-general.html" class="nav-dropdown-item">ì¼ë°˜ë¬¸ì ë°œì†¡</a>
                            <a href="message-send-ad.html" class="nav-dropdown-item">ê´‘ê³ ë¬¸ì ë°œì†¡</a>
                            <a href="message-send-election.html" class="nav-dropdown-item">ê³µì§ì„ ê±°ë¬¸ì ë°œì†¡</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ì¹´í†¡ ë°œì†¡</a>
                        <div class="nav-dropdown">
                            <a href="kakao-send-alimtalk.html" class="nav-dropdown-item">ì•Œë¦¼í†¡ ë°œì†¡</a>
                            <a href="kakao-send-brandtalk.html" class="nav-dropdown-item">ë¸Œëœë“œí†¡ ë°œì†¡</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown active">
                        <a href="#" class="nav-link">í…œí”Œë¦¿</a>
                        <div class="nav-dropdown">
                            <a href="template-message.html" class="nav-dropdown-item">ë¬¸ì</a>
                            <a href="template-alimtalk.html" class="nav-dropdown-item">ì•Œë¦¼í†¡</a>
                            <a href="template-brandtalk.html" class="nav-dropdown-item active">ë¸Œëœë“œí†¡</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ì£¼ì†Œë¡</a>
                        <div class="nav-dropdown">
                            <a href="addressbook.html" class="nav-dropdown-item">ì£¼ì†Œë¡ ê´€ë¦¬</a>
                            <a href="addressbook-reject.html" class="nav-dropdown-item">ìˆ˜ì‹ ê±°ë¶€ê´€ë¦¬</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ë°œì†¡ ê´€ë¦¬</a>
                        <div class="nav-dropdown">
                            <a href="send-result.html" class="nav-dropdown-item">ë°œì†¡ê²°ê³¼</a>
                            <a href="send-reservation.html" class="nav-dropdown-item">ì˜ˆì•½ë‚´ì—­</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ê²°ì œ ê´€ë¦¬</a>
                        <div class="nav-dropdown">
                            <a href="payment-charge.html" class="nav-dropdown-item">ì¶©ì „í•˜ê¸°</a>
                            <a href="payment-history.html" class="nav-dropdown-item">ì¶©ì „/ì‚¬ìš© ë‚´ì—­</a>
                            <a href="payment-tax.html" class="nav-dropdown-item">ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰</a>
                        </div>
                    </div>
                    <div class="nav-item has-dropdown">
                        <a href="#" class="nav-link">ë§ˆì´í˜ì´ì§€</a>
                        <div class="nav-dropdown">
                            <a href="mypage-profile.html" class="nav-dropdown-item">ë‚´ ì •ë³´ ìˆ˜ì •</a>
                            <a href="mypage-caller-number.html" class="nav-dropdown-item">ë°œì‹ ë²ˆí˜¸ ê´€ë¦¬</a>
                        </div>
                    </div>
                </nav>
                <div class="header-actions">
                    <div class="balance-info">
                        <span class="balance-label">ì”ì•¡</span>
                        <span class="balance-amount">1,000,000ì›</span>
                    </div>
                    <button class="btn btn-sm btn-outline">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </header>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <main class="main-content">
            <div class="page-header">
                <h2>ë¸Œëœë“œí†¡ í…œí”Œë¦¿ ë“±ë¡</h2>
                <p class="page-description">ë¸Œëœë“œí†¡ ë©”ì‹œì§€ í…œí”Œë¦¿ì„ ë“±ë¡í•©ë‹ˆë‹¤ (ìŠ¹ì¸ ì ˆì°¨ ì—†ì´ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥)</p>
            </div>

            <div class="register-layout">
                <!-- ì…ë ¥ ì˜ì—­ -->
                <div class="card">
                    <form id="templateForm">
                        <!-- í…œí”Œë¦¿ íƒ€ì… ì„ íƒ -->
                        <div class="form-group">
                            <label class="form-label required">í…œí”Œë¦¿ íƒ€ì…</label>
                            <div class="template-type-grid">
                                <div class="type-card" onclick="selectType('text')">
                                    <div class="type-icon">ğŸ“</div>
                                    <div class="type-name">í…ìŠ¤íŠ¸</div>
                                    <div class="type-desc">í…ìŠ¤íŠ¸ë§Œ í¬í•¨ëœ ê¸°ë³¸ ë©”ì‹œì§€</div>
                                </div>
                                <div class="type-card" onclick="selectType('image')">
                                    <div class="type-icon">ğŸ–¼ï¸</div>
                                    <div class="type-name">ì´ë¯¸ì§€</div>
                                    <div class="type-desc">ì •ì‚¬ê°í˜• ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸</div>
                                </div>
                                <div class="type-card" onclick="selectType('wide')">
                                    <div class="type-icon">ğŸ“</div>
                                    <div class="type-name">ì™€ì´ë“œ ì´ë¯¸ì§€</div>
                                    <div class="type-desc">ì™€ì´ë“œ ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸</div>
                                </div>
                                <div class="type-card" onclick="selectType('list')">
                                    <div class="type-icon">ğŸ“‹</div>
                                    <div class="type-name">ì™€ì´ë“œ ë¦¬ìŠ¤íŠ¸</div>
                                    <div class="type-desc">ì—¬ëŸ¬ í•­ëª© ë¦¬ìŠ¤íŠ¸ í˜•íƒœ</div>
                                </div>
                                <div class="type-card" onclick="selectType('carousel')">
                                    <div class="type-icon">ğŸ </div>
                                    <div class="type-name">ìºëŸ¬ì…€ ì¹´ë“œ</div>
                                    <div class="type-desc">ì—¬ëŸ¬ ì¹´ë“œ ìŠ¬ë¼ì´ë“œ</div>
                                </div>
                                <div class="type-card" onclick="selectType('commerce')">
                                    <div class="type-icon">ğŸ›’</div>
                                    <div class="type-name">ì»¤ë¨¸ìŠ¤ ì¹´ë“œ</div>
                                    <div class="type-desc">ìƒí’ˆ ì •ë³´ í‘œì‹œ</div>
                                </div>
                            </div>
                        </div>

                        <!-- ê¸°ë³¸ ì •ë³´ -->
                        <div class="form-group">
                            <label class="form-label required">ì¹´ì¹´ì˜¤ ì±„ë„</label>
                            <select class="form-select" required>
                                <option>ë§ˆì¼€íŒ…íŒ€ (ì±„ë„ ID: @marketing)</option>
                                <option>ê³ ê°ì„¼í„° (ì±„ë„ ID: @support)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">í…œí”Œë¦¿ëª…</label>
                            <input type="text" class="form-input" placeholder="í…œí”Œë¦¿ ê´€ë¦¬ìš© ì´ë¦„" maxlength="50" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">í…œí”Œë¦¿ ì„¤ëª…</label>
                            <textarea class="form-textarea" rows="2" placeholder="í…œí”Œë¦¿ ì„¤ëª… (ì„ íƒì‚¬í•­)" maxlength="200"></textarea>
                        </div>

                        <!-- ë©”ì‹œì§€ ë‚´ìš© (íƒ€ì…ë³„ë¡œ ë‹¤ë¦„) -->
                        <div id="contentSection">
                            <div class="form-group">
                                <label class="form-label required">ë©”ì‹œì§€ ë‚´ìš©</label>
                                <div class="flex gap-2 mb-1">
                                    <button type="button" class="btn btn-sm btn-outline" onclick="insertVariable('#{ì´ë¦„}')">#{ì´ë¦„}</button>
                                    <button type="button" class="btn btn-sm btn-outline" onclick="insertVariable('#{ì´ë²¤íŠ¸ëª…}')">#{ì´ë²¤íŠ¸ëª…}</button>
                                    <button type="button" class="btn btn-sm btn-outline" onclick="insertVariable('#{í• ì¸ìœ¨}')">#{í• ì¸ìœ¨}</button>
                                </div>
                                <textarea class="form-textarea" id="messageContent" rows="6" placeholder="ë©”ì‹œì§€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” (ìµœëŒ€ 1,000ì)" maxlength="1000" required oninput="updateCharCounter()"></textarea>
                                <div class="byte-counter" id="charCounter">0 / 1,000ì</div>
                            </div>
                        </div>

                        <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì´ë¯¸ì§€ íƒ€ì…) -->
                        <div class="form-group" id="imageGroup" style="display: none;">
                            <label class="form-label required">ì´ë¯¸ì§€</label>
                            <input type="file" class="form-input" accept="image/jpeg,image/png" onchange="handleImageUpload(event)">
                            <div class="form-help">JPG, PNG (ìµœëŒ€ 2MB, ê¶Œì¥: 800px Ã— 800px)</div>
                            <div id="imagePreview" style="margin-top: 12px;"></div>
                        </div>

                        <!-- ì™€ì´ë“œ ì´ë¯¸ì§€ -->
                        <div class="form-group" id="wideImageGroup" style="display: none;">
                            <label class="form-label required">ì™€ì´ë“œ ì´ë¯¸ì§€</label>
                            <input type="file" class="form-input" accept="image/jpeg,image/png" onchange="handleImageUpload(event)">
                            <div class="form-help">JPG, PNG (ìµœëŒ€ 2MB, ê¶Œì¥: 800px Ã— 600px)</div>
                            <div id="wideImagePreview" style="margin-top: 12px;"></div>
                            <div class="form-group" style="margin-top: 12px;">
                                <label class="form-label">ì œëª©</label>
                                <input type="text" class="form-input" placeholder="ì´ë¯¸ì§€ ìœ„ì— í‘œì‹œë  ì œëª© (ìµœëŒ€ 50ì)" maxlength="50">
                            </div>
                        </div>

                        <!-- ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ (ì™€ì´ë“œ ë¦¬ìŠ¤íŠ¸) -->
                        <div class="form-group" id="listGroup" style="display: none;">
                            <label class="form-label required">ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ (ìµœì†Œ 2ê°œ, ìµœëŒ€ 4ê°œ)</label>
                            <div id="listItems"></div>
                            <button type="button" class="btn btn-sm btn-outline mt-1" onclick="addListItem()">ì•„ì´í…œ ì¶”ê°€</button>
                        </div>

                        <!-- ë²„íŠ¼ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label">ë²„íŠ¼ (ìµœëŒ€ 5ê°œ)</label>
                            <div id="buttonList"></div>
                            <button type="button" class="btn btn-sm btn-outline mt-1" onclick="addButton()">ë²„íŠ¼ ì¶”ê°€</button>
                        </div>

                        <!-- ìƒíƒœ ì„¤ì • -->
                        <div class="form-group">
                            <label class="form-label required">ìƒíƒœ</label>
                            <div class="flex gap-2">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="radio" name="status" value="active" checked>
                                    <span>ì‚¬ìš©ì¤‘</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="radio" name="status" value="inactive">
                                    <span>ë¯¸ì‚¬ìš©</span>
                                </label>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ -->
                <div class="preview-section">
                    <div class="card">
                        <h3 class="card-title">í…œí”Œë¦¿ ë¯¸ë¦¬ë³´ê¸°</h3>
                        <div class="preview-kakao">
                            <div class="preview-kakao-header">
                                <div class="preview-kakao-profile"></div>
                                <div>
                                    <div style="font-weight: 600;">ë§ˆì¼€íŒ…íŒ€</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">ì˜¤ëŠ˜ ì˜¤í›„ 2:30</div>
                                </div>
                            </div>
                            <div class="preview-kakao-body">
                                <div id="previewImage" style="margin-bottom: 12px;"></div>
                                <div id="previewContent" style="white-space: pre-wrap; line-height: 1.6;">ë©”ì‹œì§€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”</div>
                                <div class="button-preview" id="previewButtons"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í•˜ë‹¨ ì•¡ì…˜ ë²„íŠ¼ -->
            <div class="card" style="margin-top: 24px;">
                <div class="flex gap-2">
                    <button class="btn btn-outline" onclick="saveDraft()">ì„ì‹œì €ì¥</button>
                    <button class="btn btn-outline" onclick="cancel()">ì·¨ì†Œ</button>
                    <button class="btn btn-primary" style="margin-left: auto;" onclick="saveTemplate()">ì €ì¥</button>
                </div>
            </div>
        </main>
    </div>

    <script src="js/common.js"></script>
    <script>
        let selectedType = '';
        let buttonCount = 0;
        let listItemCount = 0;

        function selectType(type) {
            selectedType = type;
            document.querySelectorAll('.type-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // íƒ€ì…ë³„ ì…ë ¥ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
            const imageGroup = document.getElementById('imageGroup');
            const wideImageGroup = document.getElementById('wideImageGroup');
            const listGroup = document.getElementById('listGroup');
            
            imageGroup.style.display = 'none';
            wideImageGroup.style.display = 'none';
            listGroup.style.display = 'none';
            
            if (type === 'image') {
                imageGroup.style.display = 'block';
            } else if (type === 'wide') {
                wideImageGroup.style.display = 'block';
            } else if (type === 'list') {
                listGroup.style.display = 'block';
                if (listItemCount === 0) {
                    addListItem();
                    addListItem();
                }
            }
            
            updatePreview();
        }

        function insertVariable(variable) {
            const textarea = document.getElementById('messageContent');
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const text = textarea.value;
            textarea.value = text.substring(0, start) + variable + text.substring(end);
            textarea.focus();
            textarea.setSelectionRange(start + variable.length, start + variable.length);
            updatePreview();
            updateCharCounter();
        }

        function updateCharCounter() {
            const content = document.getElementById('messageContent').value;
            const counter = document.getElementById('charCounter');
            counter.textContent = `${content.length} / 1,000ì`;
        }

        function updatePreview() {
            const content = document.getElementById('messageContent').value;
            let previewText = content
                .replace(/#{ì´ë¦„}/g, 'í™ê¸¸ë™')
                .replace(/#{ì´ë²¤íŠ¸ëª…}/g, 'ì‹ ë…„ íŠ¹ê°€')
                .replace(/#{í• ì¸ìœ¨}/g, '30');
            
            document.getElementById('previewContent').textContent = previewText || 'ë©”ì‹œì§€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”';
            
            // ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
            const imagePreview = document.getElementById('imagePreview').innerHTML;
            const wideImagePreview = document.getElementById('wideImagePreview').innerHTML;
            if (imagePreview) {
                document.getElementById('previewImage').innerHTML = imagePreview;
            } else if (wideImagePreview) {
                document.getElementById('previewImage').innerHTML = wideImagePreview;
            } else {
                document.getElementById('previewImage').innerHTML = '';
            }
            
            // ë²„íŠ¼ ë¯¸ë¦¬ë³´ê¸°
            updateButtonPreview();
        }

        document.getElementById('messageContent').addEventListener('input', function() {
            updatePreview();
            updateCharCounter();
        });

        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewId = event.target.closest('.form-group').querySelector('[id*="Preview"]')?.id || 'imagePreview';
                const preview = document.getElementById(previewId);
                if (preview) {
                    preview.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; max-height: 200px; border-radius: var(--radius-md);">`;
                }
                updatePreview();
            };
            reader.readAsDataURL(file);
        }

        function addButton() {
            if (buttonCount >= 5) {
                showToast('ë²„íŠ¼ì€ ìµœëŒ€ 5ê°œê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'warning');
                return;
            }
            
            const buttonList = document.getElementById('buttonList');
            const div = document.createElement('div');
            div.className = 'button-config';
            div.innerHTML = `
                <div class="button-config-header">
                    <strong>ë²„íŠ¼ ${buttonCount + 1}</strong>
                    <button type="button" class="btn btn-sm" onclick="removeButton(this)">ì‚­ì œ</button>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ë²„íŠ¼ íƒ€ì…</label>
                    <select class="form-select" onchange="updateButtonPreview()">
                        <option value="web">ì›¹ ë§í¬</option>
                        <option value="app">ì•± ë§í¬</option>
                        <option value="bot">ë´‡ í‚¤ì›Œë“œ</option>
                        <option value="message">ë©”ì‹œì§€ ì „ë‹¬</option>
                        <option value="phone">ì „í™” ì—°ê²°</option>
                    </select>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ë²„íŠ¼ëª…</label>
                    <input type="text" class="form-input" placeholder="ë²„íŠ¼ëª… ì…ë ¥ (ìµœëŒ€ 14ì)" maxlength="14" oninput="updateButtonPreview()">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ë§í¬/ì•¡ì…˜</label>
                    <input type="text" class="form-input" placeholder="URL ë˜ëŠ” ì•¡ì…˜ ì…ë ¥">
                </div>
            `;
            buttonList.appendChild(div);
            buttonCount++;
            updateButtonPreview();
        }

        function removeButton(btn) {
            btn.closest('.button-config').remove();
            buttonCount--;
            updateButtonPreview();
        }

        function updateButtonPreview() {
            const buttons = Array.from(document.querySelectorAll('.button-config')).map(config => {
                const name = config.querySelector('input[placeholder*="ë²„íŠ¼ëª…"]')?.value || '';
                return name;
            }).filter(name => name);
            
            const preview = document.getElementById('previewButtons');
            preview.innerHTML = buttons.map(name => 
                `<div class="button-preview-item">${name}</div>`
            ).join('');
        }

        function addListItem() {
            if (listItemCount >= 4) {
                showToast('ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œì€ ìµœëŒ€ 4ê°œê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', 'warning');
                return;
            }
            
            const listItems = document.getElementById('listItems');
            const div = document.createElement('div');
            div.className = 'list-item';
            div.innerHTML = `
                <div class="list-item-header">
                    <strong>ì•„ì´í…œ ${listItemCount + 1}</strong>
                    <button type="button" class="btn btn-sm" onclick="removeListItem(this)">ì‚­ì œ</button>
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ì œëª©</label>
                    <input type="text" class="form-input" placeholder="ì œëª© ì…ë ¥ (ìµœëŒ€ 30ì)" maxlength="30">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ì„¤ëª…</label>
                    <input type="text" class="form-input" placeholder="ì„¤ëª… ì…ë ¥ (ìµœëŒ€ 100ì)" maxlength="100">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ì¸ë„¤ì¼ ì´ë¯¸ì§€</label>
                    <input type="file" class="form-input" accept="image/*">
                </div>
                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">ë§í¬ URL</label>
                    <input type="text" class="form-input" placeholder="URL ì…ë ¥ (ì„ íƒì‚¬í•­)">
                </div>
            `;
            listItems.appendChild(div);
            listItemCount++;
        }

        function removeListItem(btn) {
            if (listItemCount <= 2) {
                showToast('ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œì€ ìµœì†Œ 2ê°œ ì´ìƒ í•„ìš”í•©ë‹ˆë‹¤.', 'warning');
                return;
            }
            btn.closest('.list-item').remove();
            listItemCount--;
        }

        function saveDraft() {
            showToast('ì„ì‹œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        function cancel() {
            if (confirm('ì‘ì„± ì¤‘ì¸ ë‚´ìš©ì´ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì •ë§ ë‚˜ê°€ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.location.href = 'template-brandtalk.html';
            }
        }

        function saveTemplate() {
            if (!selectedType) {
                showToast('í…œí”Œë¦¿ íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.', 'warning');
                return;
            }
            showToast('í…œí”Œë¦¿ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'success');
            setTimeout(() => {
                window.location.href = 'template-brandtalk.html';
            }, 2000);
        }
    </script>
</body>
</html>

